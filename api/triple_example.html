<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Event to Triple Conversion - FE-EKG</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, 'Helvetica Neue', Arial, sans-serif;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
            padding: 40px 20px;
            line-height: 1.8;
        }

        .container {
            max-width: 1000px;
            margin: 0 auto;
        }

        header {
            background: white;
            padding: 50px 40px;
            border-radius: 16px;
            box-shadow: 0 10px 30px rgba(0,0,0,0.15);
            margin-bottom: 40px;
            text-align: center;
        }

        h1 {
            color: #1a1a1a;
            margin-bottom: 16px;
            font-size: 42px;
            font-weight: 700;
            letter-spacing: -0.5px;
        }

        .subtitle {
            color: #555;
            font-size: 19px;
            line-height: 1.7;
            max-width: 700px;
            margin: 0 auto;
        }

        .section {
            background: white;
            padding: 50px;
            border-radius: 16px;
            box-shadow: 0 10px 30px rgba(0,0,0,0.15);
            margin-bottom: 40px;
        }

        .section h2 {
            color: #667eea;
            margin-bottom: 24px;
            font-size: 28px;
            font-weight: 700;
            border-bottom: 4px solid #667eea;
            padding-bottom: 16px;
            letter-spacing: -0.3px;
        }

        .section p {
            font-size: 17px;
            line-height: 1.8;
            color: #444;
        }

        .step-indicator {
            display: inline-block;
            background: #667eea;
            color: white;
            border-radius: 50%;
            width: 40px;
            height: 40px;
            line-height: 40px;
            text-align: center;
            font-weight: bold;
            margin-right: 15px;
            font-size: 20px;
        }

        .json-display {
            background: #2d2d2d;
            color: #f8f8f2;
            padding: 25px;
            border-radius: 10px;
            font-family: 'Courier New', monospace;
            font-size: 15px;
            line-height: 1.8;
            overflow-x: auto;
            position: relative;
        }

        .json-key {
            color: #66d9ef;
        }

        .json-string {
            color: #e6db74;
        }

        .json-number {
            color: #ae81ff;
        }

        .json-boolean {
            color: #fd971f;
        }

        .arrow-down {
            text-align: center;
            font-size: 40px;
            color: #667eea;
            margin: 20px 0;
            animation: bounce 2s infinite;
        }

        @keyframes bounce {
            0%, 100% { transform: translateY(0); }
            50% { transform: translateY(-10px); }
        }

        .triple-grid {
            display: grid;
            gap: 15px;
        }

        .triple {
            background: linear-gradient(135deg, #f5f7fa 0%, #c3cfe2 100%);
            padding: 25px;
            border-radius: 10px;
            border-left: 5px solid #667eea;
            display: grid;
            grid-template-columns: 1fr auto 1fr auto 1fr;
            align-items: center;
            gap: 20px;
            transition: transform 0.2s;
        }

        .triple:hover {
            transform: translateX(5px);
            box-shadow: 0 5px 15px rgba(0,0,0,0.1);
        }

        .triple-part {
            text-align: center;
        }

        .triple-label {
            font-size: 12px;
            color: #666;
            text-transform: uppercase;
            margin-bottom: 8px;
            font-weight: 600;
            letter-spacing: 0.5px;
        }

        .triple-value {
            background: white;
            padding: 14px 16px;
            border-radius: 8px;
            font-weight: 600;
            color: #333;
            font-size: 15px;
        }

        .subject { border-left: 4px solid #10b981; }
        .predicate { border-left: 4px solid #6366f1; }
        .object { border-left: 4px solid #ec4899; }

        .arrow-right {
            color: #667eea;
            font-size: 24px;
            font-weight: bold;
        }

        .graph-viz {
            background: #f8f9fa;
            padding: 40px;
            border-radius: 8px;
            text-align: center;
        }

        .node {
            display: inline-block;
            padding: 24px 36px;
            border-radius: 12px;
            font-weight: bold;
            color: black;
            margin: 12px;
            box-shadow: 0 4px 10px rgba(0,0,0,0.15);
            font-size: 17px;
            line-height: 1.6;
        }

        .entity-node {
            background: #10b981;
        }

        .event-node {
            background: #6366f1;
        }

        .risk-node {
            background: #ec4899;
        }

        .edge {
            display: inline-block;
            margin: 0 20px;
            color: #667eea;
            font-weight: bold;
            font-size: 16px;
        }

        .edge-arrow {
            font-size: 28px;
        }

        .graph-row {
            margin: 30px 0;
            display: flex;
            align-items: center;
            justify-content: center;
            flex-wrap: wrap;
        }

        .legend {
            display: flex;
            gap: 30px;
            justify-content: center;
            margin-top: 30px;
            flex-wrap: wrap;
        }

        .legend-item {
            display: flex;
            align-items: center;
            gap: 12px;
            font-size: 16px;
            color: #444;
        }

        .legend-box {
            width: 32px;
            height: 32px;
            border-radius: 6px;
            flex-shrink: 0;
        }

        .code-block {
            background: #f8f9fa;
            padding: 20px;
            border-radius: 8px;
            border-left: 5px solid #667eea;
            margin: 20px 0;
            font-family: 'Courier New', monospace;
            font-size: 15px;
            line-height: 1.9;
        }

        .highlight {
            background: #fff3cd;
            padding: 2px 6px;
            border-radius: 3px;
            font-weight: 600;
        }

        .stats-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 20px;
            margin-top: 20px;
        }

        .stat-card {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            padding: 28px;
            border-radius: 12px;
            text-align: center;
            box-shadow: 0 4px 12px rgba(102, 126, 234, 0.3);
        }

        .stat-number {
            font-size: 48px;
            font-weight: bold;
            margin-bottom: 10px;
        }

        .stat-label {
            font-size: 16px;
            opacity: 0.95;
            line-height: 1.4;
        }
    </style>
</head>
<body>
    <div class="container">
        <header>
            <h1>From Financial Event to Knowledge Graph</h1>
            <p class="subtitle">Real Example: S&P Credit Downgrade of China Evergrande (June 2021)</p>
        </header>

        <!-- Overview -->
        <div class="section" style="background: linear-gradient(135deg, #f0f4ff 0%, #e8f0fe 100%); border-left: 5px solid #667eea;">
            <h2 style="color: #667eea; border-bottom: none; margin-bottom: 16px;">How It Works</h2>
            <p style="margin-bottom: 16px;">
                This visualization demonstrates the 5-step process of converting raw financial event data into a queryable knowledge graph using RDF triples.
                Understanding this process is key to seeing how FE-EKG transforms unstructured news about financial crises into structured, machine-readable knowledge.
            </p>
            <p style="font-weight: 600; color: #667eea; margin-bottom: 12px;">The Process:</p>
            <p style="margin-left: 20px; line-height: 2;">
                <strong>1.</strong> Start with structured JSON data about a financial event<br>
                <strong>2.</strong> Break it down into atomic Subject-Predicate-Object triples<br>
                <strong>3.</strong> Connect triples to form a three-layer knowledge graph<br>
                <strong>4.</strong> Scale up to the full dataset (424+ triples)<br>
                <strong>5.</strong> Enable powerful querying and analysis capabilities
            </p>
        </div>

        <!-- Step 1: Raw Event Data -->
        <div class="section">
            <h2><span class="step-indicator">1</span>Raw Event Data (JSON)</h2>
            <p style="margin-bottom: 20px;">
                <strong>Starting Point:</strong> Financial events are first captured in JSON format, which is easy for humans to read and write.
                This example shows S&P Global Ratings downgrading China Evergrande's credit rating on June 15, 2021 - a key moment in the crisis.
            </p>
            <div class="json-display">
<span class="json-key">{</span>
  <span class="json-key">"eventId"</span>: <span class="json-string">"evt_003"</span>,
  <span class="json-key">"type"</span>: <span class="json-string">"credit_downgrade"</span>,
  <span class="json-key">"date"</span>: <span class="json-string">"2021-06-15"</span>,
  <span class="json-key">"actor"</span>: <span class="json-string">"ent_sp"</span>,
  <span class="json-key">"target"</span>: <span class="json-string">"ent_evergrande"</span>,
  <span class="json-key">"description"</span>: <span class="json-string">"S&P downgraded Evergrande credit rating to B+ with negative outlook"</span>,
  <span class="json-key">"source"</span>: <span class="json-string">"S&P Global Ratings"</span>,
  <span class="json-key">"confidence"</span>: <span class="json-number">0.98</span>
<span class="json-key">}</span>
            </div>
        </div>

        <div class="arrow-down">â¬‡</div>

        <!-- Step 2: Triple Decomposition -->
        <div class="section">
            <h2><span class="step-indicator">2</span>Triple Decomposition (RDF)</h2>
            <p style="margin-bottom: 20px;">
                <strong>The Transformation:</strong> Each piece of information is converted into a <strong>Subject-Predicate-Object</strong> triple.
                Think of it as breaking down a sentence: "The event (subject) has an actor (predicate) which is S&P (object)."
                This standardized format makes the data machine-readable and queryable. Below are all 9 triples generated from this single event:
            </p>

            <div class="triple-grid">
                <!-- Triple 1 -->
                <div class="triple">
                    <div class="triple-part">
                        <div class="triple-label">Subject</div>
                        <div class="triple-value subject">evt_003</div>
                    </div>
                    <div class="arrow-right">â†’</div>
                    <div class="triple-part">
                        <div class="triple-label">Predicate</div>
                        <div class="triple-value predicate">rdf:type</div>
                    </div>
                    <div class="arrow-right">â†’</div>
                    <div class="triple-part">
                        <div class="triple-label">Object</div>
                        <div class="triple-value object">feekg:Event</div>
                    </div>
                </div>

                <!-- Triple 2 -->
                <div class="triple">
                    <div class="triple-part">
                        <div class="triple-label">Subject</div>
                        <div class="triple-value subject">evt_003</div>
                    </div>
                    <div class="arrow-right">â†’</div>
                    <div class="triple-part">
                        <div class="triple-label">Predicate</div>
                        <div class="triple-value predicate">feekg:eventType</div>
                    </div>
                    <div class="arrow-right">â†’</div>
                    <div class="triple-part">
                        <div class="triple-label">Object</div>
                        <div class="triple-value object">"credit_downgrade"</div>
                    </div>
                </div>

                <!-- Triple 3 -->
                <div class="triple">
                    <div class="triple-part">
                        <div class="triple-label">Subject</div>
                        <div class="triple-value subject">evt_003</div>
                    </div>
                    <div class="arrow-right">â†’</div>
                    <div class="triple-part">
                        <div class="triple-label">Predicate</div>
                        <div class="triple-value predicate">feekg:hasActor</div>
                    </div>
                    <div class="arrow-right">â†’</div>
                    <div class="triple-part">
                        <div class="triple-label">Object</div>
                        <div class="triple-value object">ent_sp</div>
                    </div>
                </div>

                <!-- Triple 4 -->
                <div class="triple">
                    <div class="triple-part">
                        <div class="triple-label">Subject</div>
                        <div class="triple-value subject">evt_003</div>
                    </div>
                    <div class="arrow-right">â†’</div>
                    <div class="triple-part">
                        <div class="triple-label">Predicate</div>
                        <div class="triple-value predicate">feekg:hasTarget</div>
                    </div>
                    <div class="arrow-right">â†’</div>
                    <div class="triple-part">
                        <div class="triple-label">Object</div>
                        <div class="triple-value object">ent_evergrande</div>
                    </div>
                </div>

                <!-- Triple 5 -->
                <div class="triple">
                    <div class="triple-part">
                        <div class="triple-label">Subject</div>
                        <div class="triple-value subject">evt_003</div>
                    </div>
                    <div class="arrow-right">â†’</div>
                    <div class="triple-part">
                        <div class="triple-label">Predicate</div>
                        <div class="triple-value predicate">feekg:eventDate</div>
                    </div>
                    <div class="arrow-right">â†’</div>
                    <div class="triple-part">
                        <div class="triple-label">Object</div>
                        <div class="triple-value object">"2021-06-15"^^xsd:date</div>
                    </div>
                </div>

                <!-- Triple 6 -->
                <div class="triple">
                    <div class="triple-part">
                        <div class="triple-label">Subject</div>
                        <div class="triple-value subject">evt_003</div>
                    </div>
                    <div class="arrow-right">â†’</div>
                    <div class="triple-part">
                        <div class="triple-label">Predicate</div>
                        <div class="triple-value predicate">feekg:description</div>
                    </div>
                    <div class="arrow-right">â†’</div>
                    <div class="triple-part">
                        <div class="triple-label">Object</div>
                        <div class="triple-value object">"S&P downgraded..."</div>
                    </div>
                </div>

                <!-- Triple 7 -->
                <div class="triple">
                    <div class="triple-part">
                        <div class="triple-label">Subject</div>
                        <div class="triple-value subject">evt_003</div>
                    </div>
                    <div class="arrow-right">â†’</div>
                    <div class="triple-part">
                        <div class="triple-label">Predicate</div>
                        <div class="triple-value predicate">feekg:confidence</div>
                    </div>
                    <div class="arrow-right">â†’</div>
                    <div class="triple-part">
                        <div class="triple-label">Object</div>
                        <div class="triple-value object">0.98^^xsd:float</div>
                    </div>
                </div>

                <!-- Entity Triples -->
                <div class="triple">
                    <div class="triple-part">
                        <div class="triple-label">Subject</div>
                        <div class="triple-value subject">ent_sp</div>
                    </div>
                    <div class="arrow-right">â†’</div>
                    <div class="triple-part">
                        <div class="triple-label">Predicate</div>
                        <div class="triple-value predicate">rdf:type</div>
                    </div>
                    <div class="arrow-right">â†’</div>
                    <div class="triple-part">
                        <div class="triple-label">Object</div>
                        <div class="triple-value object">feekg:Entity</div>
                    </div>
                </div>

                <div class="triple">
                    <div class="triple-part">
                        <div class="triple-label">Subject</div>
                        <div class="triple-value subject">ent_sp</div>
                    </div>
                    <div class="arrow-right">â†’</div>
                    <div class="triple-part">
                        <div class="triple-label">Predicate</div>
                        <div class="triple-value predicate">feekg:name</div>
                    </div>
                    <div class="arrow-right">â†’</div>
                    <div class="triple-part">
                        <div class="triple-label">Object</div>
                        <div class="triple-value object">"S&P Global Ratings"</div>
                    </div>
                </div>
            </div>

            <div class="code-block" style="margin-top: 30px;">
                <strong>RDF Turtle Syntax:</strong><br><br>
                @prefix feekg: &lt;http://feekg.org/ontology#&gt; .<br>
                @prefix xsd: &lt;http://www.w3.org/2001/XMLSchema#&gt; .<br><br>

                feekg:evt_003 a feekg:Event ;<br>
                &nbsp;&nbsp;&nbsp;&nbsp;feekg:eventType "credit_downgrade" ;<br>
                &nbsp;&nbsp;&nbsp;&nbsp;feekg:hasActor feekg:ent_sp ;<br>
                &nbsp;&nbsp;&nbsp;&nbsp;feekg:hasTarget feekg:ent_evergrande ;<br>
                &nbsp;&nbsp;&nbsp;&nbsp;feekg:eventDate "2021-06-15"^^xsd:date ;<br>
                &nbsp;&nbsp;&nbsp;&nbsp;feekg:confidence "0.98"^^xsd:float .
            </div>
        </div>

        <div class="arrow-down">â¬‡</div>

        <!-- Step 3: Graph Visualization -->
        <div class="section">
            <h2><span class="step-indicator">3</span>Knowledge Graph Representation</h2>
            <p style="margin-bottom: 20px;">
                <strong>Visual Structure:</strong> When we connect all the triples, they form a knowledge graph.
                This graph shows the three-layer architecture: <span style="color: #10b981; font-weight: 600;">Entities</span> (companies),
                <span style="color: #6366f1; font-weight: 600;">Events</span> (financial actions), and
                <span style="color: #ec4899; font-weight: 600;">Risks</span> (potential impacts).
                The relationships between these layers tell the complete story:
            </p>

            <div class="graph-viz">
                <!-- Row 1: Actor -->
                <div class="graph-row">
                    <div class="node entity-node">S&P Global Ratings<br><small>(Entity)</small></div>
                </div>

                <!-- Edge down -->
                <div class="graph-row">
                    <div class="edge">
                        <span class="edge-arrow">â†“</span><br>
                        <span>hasActor</span>
                    </div>
                </div>

                <!-- Row 2: Event -->
                <div class="graph-row">
                    <div class="node event-node">Credit Downgrade Event<br><small>evt_003 (2021-06-15)</small></div>
                </div>

                <!-- Edge down -->
                <div class="graph-row">
                    <div class="edge">
                        <span class="edge-arrow">â†“</span><br>
                        <span>hasTarget</span>
                    </div>
                </div>

                <!-- Row 3: Target -->
                <div class="graph-row">
                    <div class="node entity-node">China Evergrande<br><small>(Entity)</small></div>
                </div>

                <!-- Edge down -->
                <div class="graph-row">
                    <div class="edge">
                        <span class="edge-arrow">â†“</span><br>
                        <span>triggers</span>
                    </div>
                </div>

                <!-- Row 4: Risk -->
                <div class="graph-row">
                    <div class="node risk-node">Credit Risk<br><small>(Risk Instance)</small></div>
                </div>
            </div>

            <div class="legend">
                <div class="legend-item">
                    <div class="legend-box" style="background: #10b981;"></div>
                    <span>Entity (Companies, Regulators)</span>
                </div>
                <div class="legend-item">
                    <div class="legend-box" style="background: #6366f1;"></div>
                    <span>Event (Financial Actions)</span>
                </div>
                <div class="legend-item">
                    <div class="legend-box" style="background: #ec4899;"></div>
                    <span>Risk (Risk Instances)</span>
                </div>
            </div>
        </div>

        <!-- Step 4: Statistics -->
        <div class="section">
            <h2><span class="step-indicator">4</span>Triple Statistics</h2>
            <p style="margin-bottom: 20px;">
                <strong>The Scale:</strong> Just one financial event generates multiple triples to capture every detail and relationship.
                When we process all 20 events in the Evergrande crisis, along with their entities and risks, we create a comprehensive knowledge base of 424+ triples.
                Here's what this single event produced:
            </p>

            <div class="stats-grid">
                <div class="stat-card">
                    <div class="stat-number">9</div>
                    <div class="stat-label">Total Triples Generated</div>
                </div>
                <div class="stat-card">
                    <div class="stat-number">3</div>
                    <div class="stat-label">Unique Entities</div>
                </div>
                <div class="stat-card">
                    <div class="stat-number">1</div>
                    <div class="stat-label">Event Node</div>
                </div>
                <div class="stat-card">
                    <div class="stat-number">7</div>
                    <div class="stat-label">Properties Captured</div>
                </div>
            </div>

            <div class="code-block" style="margin-top: 30px;">
                <strong>Full Dataset Statistics:</strong><br><br>
                â€¢ <span class="highlight">20 Events</span> â†’ ~180 event triples<br>
                â€¢ <span class="highlight">10 Entities</span> â†’ ~40 entity triples<br>
                â€¢ <span class="highlight">10 Risks</span> â†’ ~50 risk triples<br>
                â€¢ <span class="highlight">154 Evolution Links</span> â†’ 154 causal triples<br>
                <strong>Total: ~424+ triples</strong> in the Evergrande knowledge graph
            </div>
        </div>

        <!-- Step 5: Benefits -->
        <div class="section">
            <h2><span class="step-indicator">5</span>Why Triples Matter</h2>

            <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(300px, 1fr)); gap: 20px;">
                <div class="code-block">
                    <strong>âœ… Queryable</strong><br>
                    Find all credit downgrades:<br>
                    <code style="color: #667eea;">
                        SELECT ?event WHERE {<br>
                        &nbsp;&nbsp;?event feekg:eventType "credit_downgrade"<br>
                        }
                    </code>
                </div>

                <div class="code-block">
                    <strong>ðŸ”— Linkable</strong><br>
                    Connect to external knowledge bases:<br>
                    â€¢ DBpedia<br>
                    â€¢ Wikidata<br>
                    â€¢ Financial ontologies
                </div>

                <div class="code-block">
                    <strong>ðŸ“Š Analyzable</strong><br>
                    Traverse relationships:<br>
                    â€¢ All events affecting Evergrande<br>
                    â€¢ All actions by rating agencies<br>
                    â€¢ Risk propagation chains
                </div>

                <div class="code-block">
                    <strong>ðŸ¤– Machine-Readable</strong><br>
                    Standard formats enable:<br>
                    â€¢ AI/ML processing<br>
                    â€¢ Reasoning & inference<br>
                    â€¢ Cross-dataset integration
                </div>
            </div>
        </div>
    </div>
</body>
</html>
